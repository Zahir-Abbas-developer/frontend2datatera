import{R as x,u as A,j as e,T as $,F as m,f as D,a as L,b as R,d as U,e as O}from"./index-DMjCBTNY.js";const N=x.createContext({}),v=!0;function M({baseColor:l,highlightColor:i,width:n,height:s,borderRadius:r,circle:h,direction:p,duration:o,enableAnimation:j=v,customHighlightBackground:c}){const a={};return p==="rtl"&&(a["--animation-direction"]="reverse"),typeof o=="number"&&(a["--animation-duration"]=`${o}s`),j||(a["--pseudo-element-display"]="none"),(typeof n=="string"||typeof n=="number")&&(a.width=n),(typeof s=="string"||typeof s=="number")&&(a.height=s),(typeof r=="string"||typeof r=="number")&&(a.borderRadius=r),h&&(a.borderRadius="50%"),typeof l<"u"&&(a["--base-color"]=l),typeof i<"u"&&(a["--highlight-color"]=i),typeof c=="string"&&(a["--custom-highlight-background"]=c),a}function t({count:l=1,wrapper:i,className:n,containerClassName:s,containerTestId:r,circle:h=!1,style:p,...o}){var j,c,a;const w=x.useContext(N),g={...o};for(const[d,f]of Object.entries(o))typeof f>"u"&&delete g[d];const u={...w,...g,circle:h},S={...p,...M(u)};let b="react-loading-skeleton";n&&(b+=` ${n}`);const y=(j=u.inline)!==null&&j!==void 0?j:!1,T=[],k=Math.ceil(l);for(let d=0;d<k;d++){let f=S;if(k>l&&d===k-1){const E=(c=f.width)!==null&&c!==void 0?c:"100%",_=l%1,z=typeof E=="number"?E*_:`calc(${E} * ${_})`;f={...f,width:z}}const F=x.createElement("span",{className:b,style:f,key:d},"‌");y?T.push(F):T.push(x.createElement(x.Fragment,{key:d},F,x.createElement("br",null)))}return x.createElement("span",{className:s,"data-testid":r,"aria-live":"polite","aria-busy":(a=u.enableAnimation)!==null&&a!==void 0?a:v},i?T.map((d,f)=>x.createElement(i,{key:f},d)):T)}function P({children:l,...i}){return x.createElement(N.Provider,{value:i},l)}const C=l=>{try{if(!l)return"";const i=new Date(l);return isNaN(i.getTime())?"":i.toLocaleString()}catch(i){return console.warn("Error formatting date:",i),""}},q=({conversionHistory:l,isTransformationHistoryLoading:i})=>{const{t:n}=A();return e.jsx(P,{enableAnimation:"true",children:e.jsxs(e.Fragment,{children:[e.jsxs($,{children:[e.jsx("thead",{className:"table_heading sticky-header",children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"10vw"},children:n("tableHeaders.jobId")}),e.jsx("th",{style:{width:"12vw",display:"none"},children:n("tableHeaders.files")}),e.jsx("th",{style:{width:"8vw"},children:n("tableHeaders.configurations")}),e.jsx("th",{style:{width:"8vw"},children:n("tableHeaders.status")}),e.jsx("th",{style:{width:"12vw"},children:n("tableHeaders.started")}),e.jsx("th",{style:{width:"12vw"},children:n("tableHeaders.ended")}),e.jsx("th",{style:{width:"15vw"},children:n("tableHeaders.error")})]})}),e.jsx("tbody",{className:"table_body",children:i?[...Array(5)].map((s,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(t,{})}),e.jsx("td",{style:{display:"none"},children:e.jsx(t,{count:2})}),e.jsx("td",{children:e.jsx(t,{count:3})}),e.jsx("td",{children:e.jsx(t,{count:2})}),e.jsx("td",{children:e.jsx(t,{})}),e.jsx("td",{children:e.jsx(t,{})}),e.jsx("td",{children:e.jsx(t,{})})]},r)):(l==null?void 0:l.length)>0&&l.map(s=>{var r,h,p,o,j,c,a,w,g,u,S,b,y;return e.jsxs("tr",{children:[e.jsx("td",{children:s._id||e.jsx(t,{})}),e.jsx("td",{style:{display:"none"},children:(r=s.dataFile)!=null&&r.location||(h=s.sampleFile)!=null&&h.location?e.jsx("ul",{style:{margin:0,padding:0,listStyleType:"none"},children:(p=s.dataFile)!=null&&p.location?e.jsxs("li",{children:["Data: ",e.jsx("a",{href:s.dataFile.location,children:s.source})]}):e.jsxs("li",{children:["Data: ",e.jsx("span",{className:"black-text",children:s.source||e.jsx(t,{})})]})}):e.jsx(t,{})}),e.jsx("td",{children:s.config?e.jsxs("ul",{style:{margin:0,padding:0,listStyleType:"none"},children:[e.jsxs("li",{children:[n("configLabels.processUrls"),": ",e.jsx("b",{children:((j=(o=s.config)==null?void 0:o.processUrls)==null?void 0:j.toString())||e.jsx(t,{})})]}),e.jsxs("li",{children:[n("configLabels.merge"),": ",e.jsx("b",{children:((a=(c=s.config)==null?void 0:c.merge)==null?void 0:a.toString())||e.jsx(t,{})})]}),e.jsxs("li",{children:[n("configLabels.pagination"),": ",e.jsx("b",{children:((g=(w=s.config)==null?void 0:w.Pagination)==null?void 0:g.toString())||e.jsx(t,{})})]}),e.jsxs("li",{children:[n("configLabels.entireWebsite"),": ",e.jsx("b",{children:((S=(u=s.config)==null?void 0:u.entireWebsite)==null?void 0:S.toString())||e.jsx(t,{})})]}),e.jsxs("li",{children:[n("configLabels.aiEnrichment"),": ",e.jsx("b",{children:((y=(b=s.config)==null?void 0:b.search)==null?void 0:y.toString())||e.jsx(t,{})})]})]}):e.jsx(t,{})}),e.jsx("td",{children:s.status?e.jsx("span",{className:`status-${s.status.toLowerCase()}`,children:s.status==="Done"?e.jsxs(e.Fragment,{children:[e.jsx(m,{icon:D,size:"lg"}),"  ",s.status.toUpperCase()," ",e.jsx("br",{}),s.number_of_rows&&` (Rows added: ${s.number_of_rows})`]}):s.status==="Error"?e.jsxs(e.Fragment,{children:[e.jsx(m,{icon:L,size:"lg"}),"  ",s.status.toUpperCase()]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{icon:R,spin:!0,size:"lg"}),"  ",s.status.toUpperCase()]})}):e.jsx(t,{})}),e.jsx("td",{children:s.startTime?C(s.startTime):e.jsx(t,{})}),e.jsx("td",{children:s.endTime?C(s.endTime):e.jsx(t,{})}),e.jsx("td",{children:s.errorMessage?e.jsxs(e.Fragment,{children:[e.jsx(m,{icon:U,style:{marginRight:"5px",color:"red"},size:"lg"}),e.jsx("span",{style:{color:"red"},children:s.errorMessage})]}):i&&e.jsx(t,{})})]},s._id)})})]}),!i&&(l==null?void 0:l.length)===0&&e.jsxs("div",{style:{textAlign:"center",color:"green",fontSize:"1.5em"},children:[e.jsx(m,{icon:O,size:"2x"}),e.jsxs("p",{children:[n("emptyState"),"."]})]})]})})};export{q as default};
